#!/usr/bin/env just --justfile

# Default target
default:
    @just --list

# Clean the project
clean:
    ./mvnw clean

# Compile the project
compile:
    ./mvnw compile

# Package the project
package:
    ./mvnw package

# Run tests
test:
    ./mvnw test

# Run the application using Jetty
run:
    ./mvnw jetty:run

# Build and run
build-and-run: package run

# Deploy to local container
deploy:
    docker-compose up --build

# Stop containers
stop:
    docker-compose down

# Build Docker image
docker-build:
    docker build -t struts-billpayment .

# View logs
logs:
    docker-compose logs -f

# Clean everything including Docker
clean-all: clean stop
    docker system prune -f
